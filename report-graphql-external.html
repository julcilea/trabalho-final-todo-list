<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:8,&quot;tests&quot;:13,&quot;passes&quot;:13,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2025-09-16T00:21:33.653Z&quot;,&quot;end&quot;:&quot;2025-09-16T00:21:34.207Z&quot;,&quot;duration&quot;:554,&quot;testsRegistered&quot;:13,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;65fffd38-589e-4707-825f-f7cf3e8ebae2&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5817bca8-6f67-4f27-ad07-d223331cc649&quot;,&quot;title&quot;:&quot;GraphQL Auth API&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/auth.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/auth.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;GraphQL Auth API\&quot;&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API \&quot;before each\&quot; hook in \&quot;GraphQL Auth API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nTodo.clear();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dea3c632-539c-40c1-ada2-52071b886657&quot;,&quot;parentUUID&quot;:&quot;5817bca8-6f67-4f27-ad07-d223331cc649&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;83675bfe-9745-4a61-8946-95d13b0a2978&quot;,&quot;title&quot;:&quot;Mutation register&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/auth.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should register a new user successfully&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API Mutation register should register a new user successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:88,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: registerMutation,\n    variables: {\n      input: { email: `test_get_todos_${Date.now()}@teste.com`, password: \&quot;123456\&quot; }\n    }\n  });\nexpect(res.body.data.register.message).to.equal(&#x27;Usuário cadastrado com sucesso&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dec934a1-d9a1-4f97-9d6e-7e9171a10547&quot;,&quot;parentUUID&quot;:&quot;83675bfe-9745-4a61-8946-95d13b0a2978&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return error if email already exists&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API Mutation register should return error if email already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nconst email = &#x27;duplicate@teste.com&#x27;;\n\nawait api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: registerMutation,\n    variables: {\n      input: { email, password: \&quot;123456\&quot; }\n    }\n  });\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: registerMutation,\n    variables: {\n      input: { email, password: \&quot;123456\&quot; }\n    }\n  });\nexpect(res.body.errors[0].message).to.equal(&#x27;O usuário já existe&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a199afc5-de6a-48c2-96a1-157b54257161&quot;,&quot;parentUUID&quot;:&quot;83675bfe-9745-4a61-8946-95d13b0a2978&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate required fields with GraphQL schema&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API Mutation register should validate required fields with GraphQL schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: registerMutation,\n    variables: {\n      input: { email: &#x27;teste@teste.com&#x27; }\n    }\n  });\nexpect(res.body.errors[0].message).to.include(&#x27;Field \&quot;password\&quot; of required type \&quot;String!\&quot; was not provided&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;11f2596f-6558-4bfb-aa77-d36caa6db5f6&quot;,&quot;parentUUID&quot;:&quot;83675bfe-9745-4a61-8946-95d13b0a2978&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dec934a1-d9a1-4f97-9d6e-7e9171a10547&quot;,&quot;a199afc5-de6a-48c2-96a1-157b54257161&quot;,&quot;11f2596f-6558-4bfb-aa77-d36caa6db5f6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:94,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;14973a37-261f-436f-a956-1283d8ada4a0&quot;,&quot;title&quot;:&quot;Mutation login&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/auth.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/auth.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should login successfully and return a token&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API Mutation login should login successfully and return a token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nconst email = `test_login_success_${Date.now()}@teste.com`;\nconst password = &#x27;123456&#x27;;\nawait api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: `mutation Register($input: RegisterInput!) {\n      register(input: $input) { message }\n    }`,\n    variables: {\n      input: { email, password }\n    }\n  });\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: loginMutation,\n    variables: {\n      input: { email, password }\n    }\n  });\nexpect(res.body.data.login).to.have.property(&#x27;token&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;681afd80-9ec4-4a7b-92ea-b0cf96e47dee&quot;,&quot;parentUUID&quot;:&quot;14973a37-261f-436f-a956-1283d8ada4a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return error for invalid credentials (user not found)&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API Mutation login should return error for invalid credentials (user not found)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: loginMutation,\n    variables: {\n      input: { email: `nonexistent_${Date.now()}@teste.com`, password: &#x27;123456&#x27; }\n    }\n  });\nexpect(res.body.errors[0].message).to.equal(&#x27;Credenciais inválidas&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;07c8bfca-b7e9-4c17-ba04-1904a1621001&quot;,&quot;parentUUID&quot;:&quot;14973a37-261f-436f-a956-1283d8ada4a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return error for invalid credentials (wrong password)&quot;,&quot;fullTitle&quot;:&quot;GraphQL Auth API Mutation login should return error for invalid credentials (wrong password)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:142,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nconst email = `test_login_wrong_pwd_${Date.now()}@teste.com`;\nconst password = &#x27;123456&#x27;;\nawait api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: `mutation Register($input: RegisterInput!) {\n      register(input: $input) { message }\n    }`,\n    variables: {\n      input: { email, password }\n    }\n  });\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .send({\n    query: loginMutation,\n    variables: {\n      input: { email, password: &#x27;wrongpassword&#x27; }\n    }\n  });\nexpect(res.body.errors[0].message).to.equal(&#x27;Credenciais inválidas&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d1df395-2c4f-41f6-9436-188b46178d20&quot;,&quot;parentUUID&quot;:&quot;14973a37-261f-436f-a956-1283d8ada4a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;681afd80-9ec4-4a7b-92ea-b0cf96e47dee&quot;,&quot;07c8bfca-b7e9-4c17-ba04-1904a1621001&quot;,&quot;7d1df395-2c4f-41f6-9436-188b46178d20&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:285,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b3a43cb7-f2f4-4d04-bca3-170eb0634c69&quot;,&quot;title&quot;:&quot;GraphQL Todo API&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/todo.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/todo.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GraphQL Todo API\&quot;&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API \&quot;before all\&quot; hook in \&quot;GraphQL Todo API\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:142,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;User.clear();\nTodo.clear();\nconst email = `test_get_todos_${Date.now()}@teste.com`;\nconst password = &#x27;password123&#x27;;\n// Register\nawait api.post(&#x27;/graphql&#x27;).send({\n  query: `mutation Register($input: RegisterInput!) {\n    register(input: $input) { message }\n  }`,\n  variables: { input: { email, password } }\n});\n// Login\nconst loginRes = await api.post(&#x27;/graphql&#x27;).send({\n  query: `mutation Login($input: LoginInput!) {\n    login(input: $input) { token }\n  }`,\n  variables: { input: { email, password } }\n});\ntoken = loginRes.body.data.login.token;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82123802-30a7-4d6c-b10b-55279808107e&quot;,&quot;parentUUID&quot;:&quot;b3a43cb7-f2f4-4d04-bca3-170eb0634c69&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d22c00f2-bbf8-493f-a28b-075f26c7ec1c&quot;,&quot;title&quot;:&quot;Query todos&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/todo.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/todo.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an array of todos for the authenticated user&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Query todos should return an array of todos for the authenticated user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Create a todo first\nawait api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation CreateTodo($input: CreateTodoInput!) {\n      createTodo(input: $input) {\n        id\n        title\n      }\n    }`,\n    variables: {\n      input: { title: &#x27;Test Todo for GET&#x27; }\n    }\n  });\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({ query: todosQuery });\nexpect(res.body.data.todos).to.be.an(&#x27;array&#x27;);\nexpect(res.body.data.todos.length).to.be.at.least(1);\nexpect(res.body.data.todos[0].title).to.equal(&#x27;Test Todo for GET&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f43e252c-e92c-4db5-b141-129774e826a9&quot;,&quot;parentUUID&quot;:&quot;d22c00f2-bbf8-493f-a28b-075f26c7ec1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f43e252c-e92c-4db5-b141-129774e826a9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;808c2da3-c9b9-4c7d-9837-c1d24c2bf09c&quot;,&quot;title&quot;:&quot;Mutation createTodo&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/todo.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/todo.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new todo&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation createTodo should create a new todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: createTodoMutation,\n    variables: {\n      input: { title: &#x27;New API Test Todo&#x27; }\n    }\n  });\nexpect(res.body.data.createTodo.title).to.equal(&#x27;New API Test Todo&#x27;);\nexpect(res.body.data.createTodo.completed).to.be.false;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fffa05b3-b404-40f8-9b13-35cafc9119a8&quot;,&quot;parentUUID&quot;:&quot;808c2da3-c9b9-4c7d-9837-c1d24c2bf09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate required fields with GraphQL schema&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation createTodo should validate required fields with GraphQL schema&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: createTodoMutation,\n    variables: {\n      input: { description: &#x27;No title provided&#x27; }\n    }\n  });\nexpect(res.body.errors[0].message).to.include(&#x27;Field \&quot;title\&quot; of required type \&quot;String!\&quot; was not provided&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c14eb2fb-3658-4c60-ab31-beace56149ce&quot;,&quot;parentUUID&quot;:&quot;808c2da3-c9b9-4c7d-9837-c1d24c2bf09c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fffa05b3-b404-40f8-9b13-35cafc9119a8&quot;,&quot;c14eb2fb-3658-4c60-ab31-beace56149ce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;84d08953-9524-4619-83a1-93edc1619e40&quot;,&quot;title&quot;:&quot;Mutation updateTodo&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/todo.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/todo.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Mutation updateTodo\&quot;&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation updateTodo \&quot;before each\&quot; hook in \&quot;Mutation updateTodo\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const createRes = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation CreateTodo($input: CreateTodoInput!) {\n      createTodo(input: $input) {\n        id\n      }\n    }`,\n    variables: {\n      input: { title: &#x27;Todo to Update&#x27;, description: &#x27;Description&#x27; }\n    }\n  });\ntodoId = createRes.body.data.createTodo.id;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e63b9358-9471-4825-8da5-a148136488bc&quot;,&quot;parentUUID&quot;:&quot;84d08953-9524-4619-83a1-93edc1619e40&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update a todo successfully&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation updateTodo should update a todo successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation UpdateTodo($id: ID!, $input: UpdateTodoInput!) {\n      updateTodo(id: $id, input: $input) {\n        id\n        title\n        description\n        completed\n      }\n    }`,\n    variables: {\n      id: todoId,\n      input: {\n        title: &#x27;Updated Title&#x27;,\n        description: &#x27;Updated Description&#x27;,\n        completed: true\n      }\n    }\n  });\nexpect(res.body.data.updateTodo.title).to.equal(&#x27;Updated Title&#x27;);\nexpect(res.body.data.updateTodo.completed).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a57d129a-2f87-4a5b-bae2-798b3b4c03a7&quot;,&quot;parentUUID&quot;:&quot;84d08953-9524-4619-83a1-93edc1619e40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return error if todo not found&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation updateTodo should return error if todo not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation UpdateTodo($id: ID!, $input: UpdateTodoInput!) {\n      updateTodo(id: $id, input: $input) {\n        id\n        title\n      }\n    }`,\n    variables: {\n      id: \&quot;9999\&quot;,\n      input: { title: &#x27;Does not matter&#x27; }\n    }\n  });\nexpect(res.body.errors[0].message).to.equal(&#x27;Tarefa não encontrada&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6fa768b-ab53-42f8-bd85-24d06fe0db6b&quot;,&quot;parentUUID&quot;:&quot;84d08953-9524-4619-83a1-93edc1619e40&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a57d129a-2f87-4a5b-bae2-798b3b4c03a7&quot;,&quot;b6fa768b-ab53-42f8-bd85-24d06fe0db6b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000},{&quot;uuid&quot;:&quot;b835d748-4fa5-4dec-af92-f7615a34d4e0&quot;,&quot;title&quot;:&quot;Mutation deleteTodo&quot;,&quot;fullFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/test/graphql/external/todo.test.js&quot;,&quot;file&quot;:&quot;/test/graphql/external/todo.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should delete a todo successfully&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation deleteTodo should delete a todo successfully&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Create a todo first\nconst createRes = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation CreateTodo($input: CreateTodoInput!) {\n      createTodo(input: $input) {\n        id\n      }\n    }`,\n    variables: {\n      input: { title: &#x27;Todo to be deleted&#x27; }\n    }\n  });\nconst todoId = createRes.body.data.createTodo.id;\nconst res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation DeleteTodo($id: ID!) {\n      deleteTodo(id: $id) {\n        message\n      }\n    }`,\n    variables: { id: todoId }\n  });\nexpect(res.body.data.deleteTodo.message).to.equal(&#x27;Tarefa excluída com sucesso&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b98d42c2-675a-4e00-9403-e0ab1410ed31&quot;,&quot;parentUUID&quot;:&quot;b835d748-4fa5-4dec-af92-f7615a34d4e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return error if todo not found&quot;,&quot;fullTitle&quot;:&quot;GraphQL Todo API Mutation deleteTodo should return error if todo not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const res = await api\n  .post(&#x27;/graphql&#x27;)\n  .set(&#x27;Authorization&#x27;, `Bearer ${token}`)\n  .send({\n    query: `mutation DeleteTodo($id: ID!) {\n      deleteTodo(id: $id) {\n        message\n      }\n    }`,\n    variables: { id: \&quot;9999\&quot; }\n  });\nexpect(res.body.errors[0].message).to.equal(&#x27;Tarefa não encontrada&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;08ad00fb-6e77-4bca-9f85-c2f5f09f777a&quot;,&quot;parentUUID&quot;:&quot;b835d748-4fa5-4dec-af92-f7615a34d4e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b98d42c2-675a-4e00-9403-e0ab1410ed31&quot;,&quot;08ad00fb-6e77-4bca-9f85-c2f5f09f777a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:10000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:10000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;11.7.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;report-graphql-external&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;./&quot;,&quot;reportFilename&quot;:&quot;report-graphql-external&quot;,&quot;overwrite&quot;:&quot;true&quot;,&quot;html&quot;:&quot;true&quot;,&quot;json&quot;:&quot;true&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;report-graphql-external&quot;,&quot;reportDir&quot;:&quot;./&quot;,&quot;reportTitle&quot;:&quot;trabalho-final-todo-list&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;assets&quot;,&quot;jsonFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/report-graphql-external.json&quot;,&quot;htmlFile&quot;:&quot;/home/julcilea/Documentos/PGATS/trabalho-final-todo-list/report-graphql-external.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>